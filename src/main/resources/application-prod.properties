# PROD PROFILE - Production Kubernetes
quarkus.devservices.enabled=false

# Vault (Kubernetes Internal Service)
quarkus.vault.url=http://vault.url-shorten.svc.cluster.local:8200
quarkus.vault.authentication.client-token=${VAULT_TOKEN:prod-root-token}
quarkus.vault.kv-secret-engine-version=2
quarkus.vault.kv-secret-engine-mount-path=secret
quarkus.vault.tls.skip-verify=false
quarkus.vault.renew-grace-period=3600s
quarkus.vault.secret-config-kv-path=url-shorten/prod/database/postgres,url-shorten/prod/keycloak/config,url-shorten/prod/redis/config,url-shorten/prod/pulsar/config,url-shorten/prod/application/config

# Database Configuration (overridden by Vault)
quarkus.datasource.jdbc.url=${database.jdbc.url}
quarkus.datasource.username=${database.username}
quarkus.datasource.password=${database.password}

# Flyway
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true

# Keycloak
quarkus.oidc.tls.verification=required
quarkus.oidc.discovery-enabled=true

# Logging
quarkus.log.level=INFO
quarkus.log.console.json=false
quarkus.hibernate-orm.log.sql=false

# HTTP
quarkus.http.cors.origins=https://shorten.com,https://*.shorten.com

# Metrics
quarkus.health.extensions.enabled=true
quarkus.micrometer.enabled=true
